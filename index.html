<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MBTI ìŠ¤íƒ€ì¼ ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ + GitHub Bio ìƒì„±ê¸°</title>
  <meta name="description" content="10ë¬¸í•­ìœ¼ë¡œ ENTP/INTJ ë“± MBTI ìŠ¤íƒ€ì¼ í•´ì„ê³¼ GitHub Bio í•œ ì¤„ ë¬¸êµ¬ë¥¼ ìë™ ìƒì„±í•©ë‹ˆë‹¤." />
  <meta property="og:title" content="MBTI ìŠ¤íƒ€ì¼ ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ + GitHub Bio ìƒì„±ê¸°" />
  <meta property="og:description" content="10ë¬¸í•­ìœ¼ë¡œ ìŠ¤íƒ€ì¼ í•´ì„ + ê¹ƒí—ˆë¸Œ Bio ë¬¸êµ¬ ì¶”ì²œ" />
  <meta property="og:type" content="website" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --bg: 245 245 246; --ink: 23 23 24; }
    body { font-family: 'Pretendard', system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    .card { box-shadow: 0 10px 30px rgba(0,0,0,.08); }
    .kbd { border:1px solid #e5e7eb; border-bottom-width:2px; padding:.15rem .4rem; border-radius:.4rem; font-weight:600; font-size:.8rem;}
  </style>
</head>
<body class="min-h-screen bg-[rgb(var(--bg))] text-[rgb(var(--ink))]">
  <main class="max-w-3xl mx-auto p-6">
    <header class="flex items-center gap-3 mb-6">
      <div class="w-10 h-10 rounded-2xl bg-gradient-to-br from-indigo-500 to-fuchsia-500 grid place-items-center text-white text-xl">âš¡</div>
      <div>
        <h1 class="text-2xl md:text-3xl font-bold">MBTI ìŠ¤íƒ€ì¼ ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ + GitHub Bio ìƒì„±ê¸°</h1>
        <p class="text-sm text-gray-600">10ë¬¸í•­ Â· ê²°ê³¼ í•´ì„ Â· í•œ ì¤„ Bio ìë™ ìƒì„± Â· í´ë¦½ë³´ë“œ ë³µì‚¬</p>
      </div>
    </header>

    <section id="intro" class="card bg-white rounded-2xl p-6">
      <p class="mb-4">ì•„ë˜ <strong>ì‹œì‘í•˜ê¸°</strong>ë¥¼ ëˆ„ë¥´ë©´ 10ê°œì˜ ê°„ë‹¨í•œ ì§ˆë¬¸ì´ ë‚˜ì™€. ëª¨ë‘ ëë‚˜ë©´ ë„¤ MBTI <em>ìŠ¤íƒ€ì¼</em>ì„ í•´ì„í•˜ê³ , ê·¸ ê²°ê³¼ì— ë§ì¶˜ <strong>GitHub Bio</strong> ë¬¸êµ¬(êµ­/ì˜)ë„ ìë™ìœ¼ë¡œ ì¶”ì²œí•´ì¤„ê²Œ.</p>
      <button id="startBtn" class="mt-2 px-5 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 active:scale-[.99]">ì‹œì‘í•˜ê¸°</button>
    </section>

    <section id="quiz" class="hidden mt-6 card bg-white rounded-2xl p-6">
      <div class="flex items-center justify-between mb-4">
        <div id="progressLabel" class="text-sm text-gray-600">1 / 10</div>
        <div class="w-40 h-2 bg-gray-100 rounded-full overflow-hidden"><div id="progressBar" class="h-full bg-indigo-600" style="width:10%"></div></div>
      </div>
      <h2 id="qText" class="text-xl font-bold mb-4">ì§ˆë¬¸</h2>
      <div class="grid gap-3">
        <button id="opt1" class="px-5 py-4 rounded-xl border border-gray-200 hover:border-indigo-400 text-left">1</button>
        <button id="opt2" class="px-5 py-4 rounded-xl border border-gray-200 hover:border-indigo-400 text-left">2</button>
      </div>
    </section>

    <section id="result" class="hidden mt-6 card bg-white rounded-2xl p-6">
      <div class="flex items-center gap-3 mb-2">
        <div class="kbd">Result</div>
        <div id="mbtiBadge" class="text-lg font-bold"></div>
      </div>
      <p id="headline" class="text-xl md:text-2xl font-bold mb-3"></p>
      <div id="axisBars" class="grid gap-3 mb-6"></div>
      <div class="grid md:grid-cols-2 gap-4">
        <article class="bg-gray-50 rounded-xl p-4">
          <h3 class="font-semibold mb-2">ìš”ì•½ í•´ì„</h3>
          <ul id="summaryList" class="list-disc pl-5 space-y-1"></ul>
        </article>
        <article class="bg-gray-50 rounded-xl p-4">
          <h3 class="font-semibold mb-2">ê°•ì  Â· ì£¼ì˜ í¬ì¸íŠ¸</h3>
          <ul id="tipsList" class="list-disc pl-5 space-y-1"></ul>
        </article>
      </div>

      <hr class="my-6" />

      <div class="mb-3 flex items-center gap-2">
        <div class="kbd">GitHub Bio</div>
        <span class="text-sm text-gray-600">êµ­/ì˜ ìë™ ìƒì„± Â· í´ë¦­ ì‹œ ë³µì‚¬</span>
      </div>
      <div id="bioList" class="grid gap-3 mb-4"></div>

      <details class="bg-gray-50 rounded-xl p-4">
        <summary class="cursor-pointer font-semibold">README.md ìŠ¤ë‹ˆí« ë³´ê¸°</summary>
        <pre id="readmeSnippet" class="mt-3 overflow-x-auto text-sm p-3 rounded-lg bg-white border"></pre>
      </details>

      <div class="mt-6 flex flex-wrap gap-3">
        <button id="retryBtn" class="px-4 py-2 rounded-lg border">ë‹¤ì‹œ í•˜ê¸°</button>
        <button id="shareBtn" class="px-4 py-2 rounded-lg bg-indigo-600 text-white">ê²°ê³¼ ë§í¬ ë³µì‚¬</button>
      </div>
    </section>

    <section id="deploy" class="mt-6 text-sm text-gray-600">
      <h3 class="font-semibold mb-2">GitHub Pagesë¡œ ë°°í¬í•˜ëŠ” ë²•</h3>
      <ol class="list-decimal pl-5 space-y-1">
        <li>ì´ íŒŒì¼ì„ <strong>index.html</strong>ë¡œ ì €ì¥í•´ì„œ ìƒˆ ë ˆí¬ì— í‘¸ì‹œí•œë‹¤.</li>
        <li>GitHub â†’ ë ˆí¬ <strong>Settings &gt; Pages</strong> â†’ Deploy from a branch â†’ <strong>main / root</strong> ì„ íƒ.</li>
        <li>ì €ì¥ í›„ ëª‡ ë¶„ ë’¤ <strong>Pages URL</strong>ì´ ìƒì„±ë˜ë©´ ì ‘ì†í•œë‹¤.</li>
      </ol>
    </section>
  </main>

  <script>
  // ===== ì§ˆë¬¸ ì •ì˜ (10ë¬¸í•­) =====
  const questions = [
    { t: 'ì•„ì¹¨ì— ëˆˆì„ ë–´ì„ ë•Œ, ë¨¼ì € í•˜ëŠ” ê±´?', a1: 'í•¸ë“œí° í™•ì¸', a2: 'ë¬¼ í•œì” ë§ˆì‹œê¸°', axis: 'P', dir: [ +1, -1 ] },
    { t: 'ì•½ì†ì´ ì·¨ì†Œëì„ ë•Œ, ë„ˆì˜ ë°˜ì‘ì€?', a1: 'íœ´â€¦ ì‚´ì•˜ë‹¤', a2: 'ì•„ì‰¬ì›Œì„œ ë‹¤ë¥¸ ì•½ì†ì„ ì¡ìŒ', axis: 'E', dir: [ -1, +1 ] },
    { t: 'ì¹´í˜ì—ì„œ ë©”ë‰´ ê³ ë¥¼ ë•Œ', a1: 'ëŠ˜ ë§ˆì‹œë˜ ê±¸ ì‹œí‚´', a2: 'ìƒˆë¡œìš´ ë©”ë‰´ ë„ì „', axis: 'N', dir: [ -1, +1 ] },
    { t: 'ê¸¸ ê°€ë‹¤ ëª¨ë¥´ëŠ” ì‚¬ëŒì´ ê¸¸ì„ ë¬»ëŠ”ë‹¤', a1: 'ê°„ë‹¨íˆ ë°©í–¥ë§Œ ì•Œë ¤ì¤Œ', a2: 'ì§€ë„ ì—´ì–´ ìì„¸íˆ ì•ˆë‚´', axis: 'T', dir: [ +1, -1 ] },
    { t: 'í•˜ë£¨ë¥¼ ëŒì•„ë´¤ì„ ë•Œ ë” ì¤‘ìš”í•œ ê²ƒì€?', a1: 'ì˜¤ëŠ˜ ë‚´ê°€ í•œ ì¼(ì„±ê³¼)', a2: 'ì˜¤ëŠ˜ ë‚´ê°€ ëŠë‚€ ê°ì •', axis: 'T', dir: [ +1, -1 ] },
    { t: 'ì—¬í–‰ ì¼ì •ì´ ê¼¬ì˜€ë‹¤', a1: 'ë­ ì–´ë•Œ, ì¼ë‹¨ ì¦ê¸°ì!', a2: 'ê³„íšì„ ë‹¤ì‹œ ì„¸ìš´ë‹¤', axis: 'P', dir: [ +1, -1 ] },
    { t: 'íŒ€ í”„ë¡œì íŠ¸ì—ì„œ ë‚˜ëŠ” ì£¼ë¡œâ€¦', a1: 'ì•„ì´ë””ì–´ ë¿Œë¦¬ëŠ” ì‚¬ëŒ', a2: 'ííŠ¸ëŸ¬ì§„ ê±¸ ì •ë¦¬í•˜ëŠ” ì‚¬ëŒ', axis: 'P', dir: [ +1, -1 ] },
    { t: 'ì§‘ì— í˜¼ì ìˆì„ ë•Œ ë‚˜ëŠ”â€¦', a1: 'ìŒì•…/ì˜ìƒ í‹€ê³  ë­”ê°€ í•¨', a2: 'ì¡°ìš©íˆ ë© ë•Œë¦¬ê±°ë‚˜ ì±…', axis: 'E', dir: [ +1, -1 ] },
    { t: 'ë¬¸ì œì— ë¶€ë”ªíˆë©´ ìš°ì„ ìˆœìœ„ëŠ”?', a1: 'ë¹¨ë¦¬ í•´ê²°ì±…ë¶€í„° ì°¾ëŠ”ë‹¤', a2: 'ì™œ ìƒê²¼ëŠ”ì§€ ì›ì¸ ë¶„ì„', axis: 'N', dir: [ -1, +1 ] },
    { t: 'ë” ëŒë¦¬ëŠ” ë§ì€?', a1: 'ìƒˆë¡œìš´ ê²½í—˜ì´ ë„ˆë¥¼ ì„±ì¥ì‹œì¼œ', a2: 'ê¾¸ì¤€í•¨ì´ ê²°êµ­ ë„ˆë¥¼ ì§€ì¼œì¤˜', axis: 'P', dir: [ +1, -1 ] },
  ];

  // ===== ìƒíƒœ =====
  let idx = 0;
  const scores = { E: 0, N: 0, T: 0, P: 0 }; // ê° ì¶• ì–‘ìˆ˜ë©´ ì•ê¸€ì(E/N/T/P), ìŒìˆ˜ë©´ ë°˜ëŒ€(I/S/F/J)
  const picks = [];

  // ===== DOM =====
  const $ = (s) => document.querySelector(s);
  const intro = $('#intro');
  const quiz = $('#quiz');
  const result = $('#result');
  const startBtn = $('#startBtn');
  const progressLabel = $('#progressLabel');
  const progressBar = $('#progressBar');
  const qText = $('#qText');
  const opt1 = $('#opt1');
  const opt2 = $('#opt2');
  const mbtiBadge = $('#mbtiBadge');
  const headline = $('#headline');
  const axisBars = $('#axisBars');
  const summaryList = $('#summaryList');
  const tipsList = $('#tipsList');
  const bioList = $('#bioList');
  const readmeSnippet = $('#readmeSnippet');
  const retryBtn = $('#retryBtn');
  const shareBtn = $('#shareBtn');

  // ===== ìœ í‹¸ =====
  function updateProgress() {
    progressLabel.textContent = `${idx + 1} / ${questions.length}`;
    progressBar.style.width = `${((idx+1)/questions.length)*100}%`;
  }

  function renderQuestion() {
    const q = questions[idx];
    qText.textContent = q.t;
    opt1.textContent = '1) ' + q.a1;
    opt2.textContent = '2) ' + q.a2;
    updateProgress();
  }

  function applyChoice(choice) {
    const q = questions[idx];
    const delta = q.dir[choice-1];
    scores[q.axis] += delta;
    picks.push(choice);
  }

  function tieBreak(axes) {
    // ê°„ë‹¨ íƒ€ì´ë¸Œë ˆì´ì»¤: Pê°€ ì–‘ìˆ˜ë©´ ìƒˆë¡œì›€ ìª½, ìŒìˆ˜ë©´ ì•ˆì • ìª½ ìš°ì„ 
    const letter = axes.letter;
    const val = scores[letter];
    if (val > 0) return letter;
    if (val < 0) return axes.opposite;
    // tie
    if (letter === 'E') return scores.P >= 0 ? 'E' : 'I';
    if (letter === 'N') return scores.P >= 0 ? 'N' : 'S';
    if (letter === 'T') return scores.N >= 0 ? 'T' : 'F';
    if (letter === 'P') return scores.N >= 0 ? 'P' : 'J';
    return letter; // fallback
  }

  function finalize() {
    const E = tieBreak({letter:'E', opposite:'I'});
    const N = tieBreak({letter:'N', opposite:'S'});
    const T = tieBreak({letter:'T', opposite:'F'});
    const P = tieBreak({letter:'P', opposite:'J'});
    const type = `${E}${N}${T}${P}`;

    // ë°°ì§€/í—¤ë“œë¼ì¸
    mbtiBadge.textContent = type;
    headline.textContent = headlineByType(type);

    // ì¶• ê²Œì´ì§€
    axisBars.innerHTML = '';
    const axes = [
      { k:'E/I', pos: scoreToPct(scores.E), left:'I', right:'E' },
      { k:'N/S', pos: scoreToPct(scores.N), left:'S', right:'N' },
      { k:'T/F', pos: scoreToPct(scores.T), left:'F', right:'T' },
      { k:'P/J', pos: scoreToPct(scores.P), left:'J', right:'P' },
    ];
    axes.forEach(ax => axisBars.appendChild(renderAxis(ax)));

    // ìš”ì•½/íŒ
    renderSummaryAndTips({E,N,T,P,type});

    // Bio ì¶”ì²œ + README ìŠ¤ë‹ˆí«
    const bios = generateBios({E,N,T,P,type});
    renderBios(bios);
    readmeSnippet.textContent = makeReadmeSnippet(type, bios[0]);

    // ê²°ê³¼ ì„¹ì…˜ í‘œì‹œ
    intro.classList.add('hidden');
    quiz.classList.add('hidden');
    result.classList.remove('hidden');

    // URL ê³µìœ ìš© ì¿¼ë¦¬ ì €ì¥
    const params = new URLSearchParams({ picks: picks.join('') });
    history.replaceState({}, '', location.pathname + '?' + params.toString());
  }

  function scoreToPct(v){
    // v in roughly [-4..+4] for P, [-2..+2] others â†’ normalize to 0..100 (right side is ì•ê¸€ì)
    const max = 4; // ì•ˆì „í•œ ì •ê·œí™”
    const pct = Math.round(((v + max) / (2*max)) * 100);
    return Math.min(100, Math.max(0, pct));
  }

  function renderAxis({k,pos,left,right}){
    const wrap = document.createElement('div');
    wrap.innerHTML = `
      <div class="text-sm font-medium mb-1">${k}</div>
      <div class="h-2 w-full bg-gray-100 rounded-full overflow-hidden">
        <div class="h-full bg-gradient-to-r from-fuchsia-500 to-indigo-600" style="width:${pos}%"></div>
      </div>
      <div class="flex justify-between text-xs text-gray-600"><span>${left}</span><span>${right}</span></div>
    `;
    return wrap;
  }

  function headlineByType(type){
    const map = {
      ENTP: 'ì•„ì´ë””ì–´ í­ì£¼ ì—”ì§„, ì¦‰í¥ì  ë°œëª…ê°€',
      INTJ: 'ì‹œìŠ¤í…œ ì„¤ê³„ì, ì°¨ë¶„í•œ ì „ëµê°€',
      INTP: 'ê°œë…íƒí—˜ê°€, ë…¼ë¦¬ ìµœì í™”ëŸ¬',
      ENTJ: 'ì¡°ì§í™”ëœ ì¶”ì§„ê°€, ëª©í‘œì§€í–¥ ë¦¬ë”',
      ENFP: 'ê°€ëŠ¥ì„± ìˆ˜ì§‘ê°€, ì—ë„ˆì§€ ì „íŒŒì',
      INFJ: 'í†µì°°í˜• ì¡°ìœ¨ê°€, ì˜ë¯¸ ì¶”êµ¬ì',
      ISTJ: 'ì‹ ë¢°ì˜ ìš´ì˜ì, ë””í…Œì¼ ì¥ì¸',
      ESTP: 'í˜„ì¥ í•´ê²°ì‚¬, ì•¡ì…˜ í¼í¬ë¨¸',
    };
    // ê¸°ë³¸ê°’: ì¶• ê¸°ë°˜ í—¤ë“œë¼ì¸ ìƒì„±
    if (map[type]) return map[type];
    let h = '';
    h += (type[0]==='E' ? 'ì‚¬ëŒì— ê°•í•œ ' : 'í˜¼ì ëª°ì…í•˜ëŠ” ');
    h += (type[1]==='N' ? 'ì•„ì´ë””ì–´í˜• ' : 'í˜„ì‹¤ ì‹¤í–‰í˜• ');
    h += (type[2]==='T' ? 'ë…¼ë¦¬íŒŒ, ' : 'ê³µê°íŒŒ, ');
    h += (type[3]==='P' ? 'ì¦‰í¥ ë“œë¼ì´ë¸Œ' : 'ë£¨í‹´ ë“œë¼ì´ë¸Œ');
    return h;
  }

  function renderSummaryAndTips({E,N,T,P,type}){
    summaryList.innerHTML = '';
    tipsList.innerHTML = '';
    const sum = [];
    sum.push(E==='E' ? 'ì‚¬ëŒë“¤ê³¼ì˜ ìƒí˜¸ì‘ìš©ì—ì„œ ì—ë„ˆì§€ ìƒìŠ¹.' : 'ì¡°ìš©í•œ í™˜ê²½ì—ì„œ ì§‘ì¤‘ë ¥ ìµœëŒ€ë¡œ ë°œíœ˜.');
    sum.push(N==='N' ? 'ìƒˆë¡œì›€/ê°€ëŠ¥ì„±ì— ëŒë¦¬ê³  ì‹¤í—˜ì„ ì¦ê¹€.' : 'ê²€ì¦ëœ ë°©ë²•ê³¼ ì‹¤ì²´ì  ê²°ê³¼ë¥¼ ì„ í˜¸.');
    sum.push(T==='T' ? 'ë…¼ë¦¬Â·íš¨ìœ¨Â·ì •í™•ì„±ì— ë¯¼ê°.' : 'ë§¥ë½Â·ê´€ê³„Â·ì˜ë„ ê°™ì€ ì¸ê°„ì ì¸ ìš”ì†Œë¥¼ ì¤‘ì‹œ.');
    sum.push(P==='P' ? 'ìœ ì—°Â·ì¦‰í¥Â·ë¹ ë¥¸ ë°˜ë³µì— ê°•í•¨.' : 'ê³„íšÂ·ë£¨í‹´Â·ë§ˆê° ê´€ë¦¬ì— ê°•í•¨.');
    sum.forEach(s=>{ const li=document.createElement('li'); li.textContent=s; summaryList.appendChild(li); });

    const tips = [];
    if (P==='P') tips.push('í° ë°©í–¥ë§Œ ì •í•˜ê³  ìŠ¤ëª° ìŠ¤í…ìœ¼ë¡œ ìì£¼ ë°°í¬í•˜ê¸°(ë¹ ë¥¸ í”¼ë“œë°± ë£¨í”„).');
    if (P==='J') tips.push('ë³€ê²½ ì—¬ì§€ë¥¼ ë‚¨ê¸°ë˜, ë§ˆê°Â·ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì‹œê°í™”í•˜ì—¬ ìœ ì§€.');
    if (E==='E') tips.push('ì—ë„ˆì§€ ë‚®ì„ ë• ì‚¬ëŒ ë§Œë‚¨ìœ¼ë¡œ ë¦¬ì°¨ì§€, ë‹¨ ì¼ì •ì— ë²„í¼ ë‘ê¸°.');
    if (E==='I') tips.push('ì‹¬ì¸µ ì‘ì—… ë¸”ë¡(ì˜ˆ: 90ë¶„) í™•ë³´ í›„ íšŒì˜ëŠ” ë¬¶ì–´ì„œ ì²˜ë¦¬.');
    if (N==='N') tips.push('ì•„ì´ë””ì–´ í­ì£¼ ì‹œ â€œí•œ ì¤„ ëª…ì„¸â†’ì‘ì€ ì‹¤í—˜â€ìœ¼ë¡œ í˜„ì‹¤ ê³ ì •.');
    if (N==='S') tips.push('ë£¨í‹´ ìµœì í™” í›„ ì£¼ 1íšŒ â€œìƒˆë¡œìš´ ì‹œë„ íƒ€ì„â€ìœ¼ë¡œ í™•ì¥.');
    if (T==='T') tips.push('ì‚¬ëŒ ì´ìŠˆì—” Check-list ëŒ€ì‹  â€œì˜ë„Â·ê°ì •â€ ì§ˆë¬¸ í•œ ë²ˆ ë”.');
    if (T==='F') tips.push('ê²°ì • ì‹œ ê·¼ê±° í‘œê¸°(ì™œ ì´ê²Œ ë” ë‚˜ì€ì§€)ë¡œ íŒ€ ì‹±í¬ ì—….');
    tips.forEach(t=>{ const li=document.createElement('li'); li.textContent=t; tipsList.appendChild(li); });
  }

  function generateBios({E,N,T,P,type}){
    // ì¶• ê¸°ë°˜ í…œí”Œë¦¿ â€” êµ­/ì˜ ìŒìœ¼ë¡œ 3ê°œ ì œì•ˆ
    const en = {
      E: 'People energy boosts my code',
      I: 'Built in quiet, shipped with focus',
      N: 'Chasing possibilities',
      S: 'Grounded in reality',
      T: 'Clarity over noise',
      F: 'Empathy in the loop',
      P: 'Iterate fast, ship often',
      J: 'Plan smart, ship steady'
    };
    const kr = {
      E: 'ì‚¬ëŒ ì—ë„ˆì§€ë¡œ ì½”ë“œë¥¼ ë‹¬ë¦°ë‹¤',
      I: 'ê³ ìš”ì—ì„œ ë§Œë“¤ê³  ì§‘ì¤‘ìœ¼ë¡œ ë°°í¬í•œë‹¤',
      N: 'ê°€ëŠ¥ì„±ì„ ì¢‡ëŠ”ë‹¤',
      S: 'í˜„ì‹¤ì— ë‹¨ë‹¨íˆ ë°œ ë”›ëŠ”ë‹¤',
      T: 'ì†ŒìŒë³´ë‹¤ ëª…í™•í•¨',
      F: 'ê³µê°ì„ ë£¨í”„ì— í¬í•¨í•œë‹¤',
      P: 'ë¹ ë¥´ê²Œ ë°˜ë³µí•˜ê³  ìì£¼ ë°°í¬',
      J: 'ì˜ë¦¬í•˜ê²Œ ê³„íší•˜ê³  ì•ˆì •ì ìœ¼ë¡œ ë°°í¬'
    };

    // ê¸°ë³¸ ì‹œê·¸ë‹ˆì²˜ â€” ì‚¬ìš©ì ëŒ€í™”ì—ì„œ ì˜ê°ì„ ì¤€ í•œ ì¤„ (êµ­/ì˜)
    const sigEN = 'Energy drives productivity, excitement defines identity.';
    const sigKR = 'ì—ë„ˆì§€ê°€ ê³§ ìƒì‚°ì„±, ì‹ ë‚¨ì´ ê³§ ì •ì²´ì„±.';

    const pair1 = [sigEN, sigKR];
    const pair2 = [
      `${en[E]} Â· ${en[N]}. ${en[P]}.`,
      `${kr[E]} Â· ${kr[N]}. ${kr[P]}.`
    ];
    const pair3 = [
      `${type} â€” ${en[T]}. ${en[S] ?? ''} ${en[J] ?? ''}`.trim(),
      `${type} â€” ${kr[T]}. ${kr[S] ?? ''} ${kr[J] ?? ''}`.trim()
    ];

    // ê¹”ë”í•˜ê²Œ ì •ë¦¬
    const dedupe = (s) => s.replace(/\s+/g,' ').replace(/\s\./g,'.');
    return [
      { en: dedupe(pair1[0]), kr: dedupe(pair1[1]) },
      { en: dedupe(pair2[0]), kr: dedupe(pair2[1]) },
      { en: dedupe(pair3[0]), kr: dedupe(pair3[1]) },
    ];
  }

  function renderBios(bios){
    bioList.innerHTML = '';
    bios.forEach((b,i)=>{
      const box = document.createElement('div');
      box.className = 'p-4 rounded-xl border hover:border-indigo-400 bg-white';
      box.innerHTML = `
        <div class="text-sm text-gray-500 mb-1">#${i+1}</div>
        <div class="grid gap-1">
          <button class="text-left hover:bg-gray-50 p-2 rounded copyBtn" data-text="${escapeHtml(b.en)}">ğŸ‡ºğŸ‡¸ ${escapeHtml(b.en)}</button>
          <button class="text-left hover:bg-gray-50 p-2 rounded copyBtn" data-text="${escapeHtml(b.kr)}">ğŸ‡°ğŸ‡· ${escapeHtml(b.kr)}</button>
        </div>
      `;
      bioList.appendChild(box);
    });

    bioList.querySelectorAll('.copyBtn').forEach(btn=>{
      btn.addEventListener('click', async (e)=>{
        const text = e.currentTarget.getAttribute('data-text');
        await navigator.clipboard.writeText(unescapeHtml(text));
        toast('ë³µì‚¬ ì™„ë£Œ!');
      });
    });
  }

  function makeReadmeSnippet(type, topBio){
    return `## ğŸ‘‹ Hi, I'm ${type} flavored\n\nâš¡ **Energy = Productivity**\n\nğŸ‰ **Excitement = Identity**\n\n> ${topBio.en}\n> ${topBio.kr}\n`;
  }

  function toast(msg){
    const t = document.createElement('div');
    t.textContent = msg;
    t.className = 'fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white text-sm px-3 py-2 rounded-lg opacity-0';
    document.body.appendChild(t);
    requestAnimationFrame(()=>{ t.style.transition='opacity .2s'; t.style.opacity='1'; });
    setTimeout(()=>{ t.style.opacity='0'; setTimeout(()=>t.remove(),200); }, 1200);
  }

  function escapeHtml(s){
    return s.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;');
  }
  function unescapeHtml(s){
    return s.replaceAll('&lt;','<').replaceAll('&gt;','>').replaceAll('&quot;','\"').replaceAll('&amp;','&');
  }

  // ===== ì´ˆê¸°í™” / ì´ë²¤íŠ¸ =====
  startBtn.addEventListener('click', ()=>{
    intro.classList.add('hidden');
    quiz.classList.remove('hidden');
    idx = 0; Object.keys(scores).forEach(k=>scores[k]=0); picks.length = 0;
    renderQuestion();
  });

  opt1.addEventListener('click', ()=>{
    applyChoice(1);
    if (++idx < questions.length) renderQuestion(); else finalize();
  });
  opt2.addEventListener('click', ()=>{
    applyChoice(2);
    if (++idx < questions.length) renderQuestion(); else finalize();
  });

  retryBtn.addEventListener('click', ()=>{ location.href = location.pathname; });
  shareBtn.addEventListener('click', async ()=>{
    await navigator.clipboard.writeText(location.href);
    toast('ë§í¬ ë³µì‚¬ ì™„ë£Œ!');
  });

  // ===== ê³µìœ  ë§í¬ë¡œ ë³µì› =====
  (function restoreFromQuery(){
    const qs = new URLSearchParams(location.search);
    const str = qs.get('picks');
    if (!str) return;
    const arr = str.split('').map(x=>parseInt(x,10)).filter(x=>x===1||x===2);
    if (arr.length !== questions.length) return;
    intro.classList.add('hidden');
    quiz.classList.add('hidden');
    arr.forEach((choice, i)=>{ idx=i; applyChoice(choice); });
    finalize();
  })();
  </script>
</body>
</html>

